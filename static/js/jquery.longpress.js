(function(){var a=Cache.prototype.addAll,b=navigator.userAgent.match(/(Firefox|Chrome)\/(\d+\.)/);if(b)var c=b[1],d=parseInt(b[2]);a&&(!b||'Firefox'===c&&46<=d||'Chrome'===c&&50<=d)||(Cache.prototype.addAll=function(f){function g(j){this.name='NetworkError',this.code=19,this.message=j}var h=this;return g.prototype=Object.create(Error.prototype),Promise.resolve().then(function(){if(1>arguments.length)throw new TypeError;return f=f.map(function(k){return k instanceof Request?k:k+''}),Promise.all(f.map(function(k){'string'==typeof k&&(k=new Request(k));var l=new URL(k.url).protocol;if('http:'!==l&&'https:'!==l)throw new g('Invalid scheme');return fetch(k.clone())}))}).then(function(j){if(j.some(function(k){return!k.ok}))throw new g('Incorrect response status');return Promise.all(j.map(function(k,l){return h.put(f[l],k)}))}).then(function(){})},Cache.prototype.add=function(f){return this.addAll([f])})})();
