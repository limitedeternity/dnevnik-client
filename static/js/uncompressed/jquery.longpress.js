(function(a){a.fn.longpress=function(b,c,d){return"undefined"==typeof d&&(d=500),this.each(function(){function f(q){m=q.touches?q.touches[0].clientX:q.clientX,n=q.touches?q.touches[0].clientY:q.clientY,clearTimeout(o),j=new Date().getTime();var r=a(this);o=setTimeout(function(){"function"==typeof b?b.call(r,q):a.error("Callback required for long press. You provided: "+typeof b)},d)}function g(q){k=q.touches?q.touches[0].clientX:q.clientX,l=q.touches?q.touches[0].clientY:q.clientY,100<Math.abs(k-m)||100<Math.abs(l-n)||new Date().getTime()-j>=d||(clearTimeout(o),"function"==typeof c?(50<new Date().getTime()-p&&c.call(a(this),q),p=new Date().getTime()):"undefined"==typeof c||a.error("Optional callback for short press should be a function."))}function h(){clearTimeout(o)}var j,k,l,m,n,o,i=a(this),p=0;i.on("mousedown",f),i.on("mouseup",g),i.on("mousemove",h),i.on("touchstart",f),i.on("touchend",g),i.on("touchmove",h)})}})(jQuery);